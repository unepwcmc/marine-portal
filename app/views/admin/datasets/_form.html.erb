<%= form_for([:admin, @dataset], :html => { :multipart => true }) do |f| %>
  <% if @dataset.errors.any? %>
    <ul>
      <% @dataset.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
      <% end %>
    </ul>
  <% end %>

  <p>
    <%= f.label :title %><br />
    <%= f.text_field :title, class: 'long-text' %>
  </p>

  <p>
    <%= f.label :order_number %><br />
    <%= f.text_field :order_number %>
  </p>

  <p>
    <%= f.label :short_desc %><br />
    <%= f.text_area :short_desc %>
    <br /><small>To add links, use the format "text":http://example.com</small>
  </p>

  <p>
    <%= f.label :long_desc %><br />
    <%= f.text_area :long_desc %>
    <br /><small>To add links, use the format "text":http://example.com</small>
  </p>

  <p>
    <%= f.label 'Citation' %><br />
    <%= f.text_area :metadata_description %>
    <br /><small>To add links, use the format "text":http://example.com</small>
  </p>

  <p>
    <%= f.label :creation_date %><br/>
    <%= f.text_field :creation_date, value: @dataset.creation_date ? @dataset.creation_date.strftime("%Y-%m-%d") : '', type: :date, min: Date.new(1900, 1, 1), max: Date.today %>
  </p>

  <p>
    <%= f.label :time_range_start, 'Time range' %><br/>
    <%= f.number_field :time_range_start, step: 1, in: 1900...Time.now.year+1 %>
    -
    <%= f.number_field :time_range_end, step: 1, in: 1900...Time.now.year+1 %>
  </p>

  <p class="options">
    <%= f.label :data_categories %><br/>
    <%= f.collection_check_boxes :data_category_ids, data_categories, :id, :name %>
  </p>

  <p class="options radio">
    <%= f.label :format, 'Data format' %><br/>
    <% data_formats.each do |option| %>
      <%= f.radio_button :format, option.id %>
      <%= f.label :format, option.name.humanize, value: option.id %>
    <% end %>
  </p>

  <p class="options radio">
    <%= f.label :observation_type %><br/>
    <% observation_types.each do |option| %>
      <%= f.radio_button :observation_type, option.id %>
      <%= f.label :observation_type, option.name.humanize, value: option.id %>
    <% end %>
  </p>

  <p class="options radio">
    <%= f.label :geographical_range %><br/>
    <% geographical_ranges.each do |option| %>
      <%= f.radio_button :geographical_range, option.id %>
      <%= f.label :geographical_range, option.name.humanize, value: option.id %>
    <% end %>
  </p>

  <p>
    <%= f.label :data_provider %><br/>
    <%= f.text_field :data_provider %>
  <p>

  <p>
    <%= f.label :metadata_html_file %><br/>
    <%= f.file_field :html%>
  </p>

  <p>
    <%= f.label :metadata_xml_file %><br/>
    <%= f.file_field :xml%>
  </p>

  <p>
    <%= f.label :factsheet_file %><br/>
    <%= f.file_field :factsheet %>
  </p>

  <p>
    <%= f.label :shp_download %><br />
    <%= f.text_field :shp_download, class: 'long-text' %>
  </p>

  <p>
    <%= f.label :arcgis_link %><br />
    <%= f.text_field :arcgis_link, class: 'long-text' %>
  </p>

  <p>
    <%= f.label :wms_server %><br />
    <%= f.text_field :wms_server, class: 'long-text' %>
  </p>
  <p>
    <%= f.label :wms_name %><br />
    <%= f.text_field :wms_name %>
  </p>
  <p>
    <%= f.label :styles, label: 'Map Style Parameter' %><br />
    <%= f.text_field :styles %>
  </p>
  <p>
    <%= f.label :view_params %><br />
    <%= f.text_field :view_params %>
  </p>
  <p>
    <%= f.label :wfs %><br />
    <%= f.text_field :wfs %>
  </p>
  <p>
    <%= f.label :meta_download %><br />
    <%= f.text_field :meta_download %>
  </p>

  <p>
    <%= f.label :has_legend %><br />
    <%= f.check_box :has_legend %>
  </p>

  <p>
    <%= f.label 'Use constraints' %><br />
    <%= collection_select(:dataset, :licence_id, licences, :id, :title, {:prompt => true})%>
  </p>

  <p>
    <%= f.label :image %><br />
    <%= f.file_field :image %><br/>
    <small>Current image:</small>
    <%= image_tag @dataset.image.url if @dataset.image.present? %>
  </p>

  </p>
  <p>
    <%= f.submit 'Submit' %>
  </p>
<% end %>
